<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Multitab</title>
    <script src="../bower_components/rivets/dist/rivets.bundled.min.js"
      charset="utf-8"></script>
    <script src='lib/main.js' type="text/javascript"></script>
    <link rel="stylesheet"
      href="../bower_components/material-design-icons/iconfont/material-icons.css">
    <link rel="stylesheet"
      href="styles/material.css"> <!-- deep purple/light green -->
    <script defer src="lib/material.min.js"></script>
  </head>
  <body id='ext_template'>
    <section>
      <h1>Your Extensions</h1>
      <div rv-each-ext='model'>
        <extension ext='ext'></extension>
      </div>
    </section>

    <section>
      <h1>Add an Extension</h1>
      <ol>
        <li>Find the extension you want below.</li>
        <!-- TODO: Use json binder -->
        <extension-selector rv-value='ext'></extension-selector>
      </ol>

      <button type="button" rv-on-click="toggleManifestInput">
        <span rv-hide='showManifestInput'>Enter manifest</span>
        <span rv-show='showManifestInput'>Close manifest input</span>
      </button>
      <div rv-show='showManifestInput'>
        <p>
          Copy the content of the tab that just opened into the textbox below.
        </p>
        <textarea name="manifest" rv-json='manifest'></textarea>
      </div>
    </section>

    <section>
      <h2>Extracted extension information</h2>
      <div rv-show='manifest.chrome_url_overrides.newtab'>
        <p>
          New Tab Page: { manifest.chrome_url_overrides.newtab }
        </p>
        <p>
          Add this extension?
        </p>
        <button type="button" rv-on-click='extensionManager.addExtension'>OK</button>
      </div>

      <p rv-hide='manifest.chrome_url_overrides.newtab'>
        <strong>This is not a new tab extension.</strong>
      </p>
    </section>
  </body>
</html>
